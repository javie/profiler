(function(d){var j,i,k,h;j=this;h={};i=function(l){return this.make(l);};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=i;
}exports.Profiler=i;}else{if("undefined"===typeof j.Javie){j.Javie={};}j.Javie.Profiler=i;}k=j._;if(!k&&("undefined"!==typeof require)){k=require("underscore");
}if(!k){throw new Error("Expected Underscore.js not available");}function b(){return{id:"",type:"",start:null,end:null,total:null,message:""};}function g(l){var m,n;
m=new Date().getTime();n=parseInt(m/1000,10);return l?(m/1000):(m-(n*1000))/1000+" "+n;}i.enabled=false;i.enable=function f(){this.enabled=true;};i.disable=function e(){this.enabled=false;
};i.status=function c(){return this.enabled;};i.make=function a(p){var l,o,n;if(d===undefined&&this.enabled===true){throw new Error("console is not available.");
}if(k.isUndefined(p)||p===""){p="default";}if(h[p]!==undefined){return h[p];}o=this;n={logs:[],pair:{},startedAt:g(true),time:function s(w,v){var t,u;if(k.isNull(w)){w=this.logs.length;
}if(o.enabled===false){return null;}u=b();u.id=w;u.type="time";u.message=v.toString();u.start=g(true);if(!k.isUndefined(this.pair["time."+w])){t=this.pair["time."+w];
this.logs[t]=u;}else{this.logs.push(u);this.pair["time."+w]=(this.logs.length-1);}d.time(w);return w;},timeEnd:function r(z,x){var u,y,t,w,v;if(k.isNull(z)){z=this.logs.length;
}if(o.enabled===false){return;}if(k.isUndefined(this.pair["time."+z])){v=b();v.start=this.startedAt;if(l.isSet(x)){v.message=x;}this.logs.push(v);this.pair["time."+z]=(this.logs.length-1);
v.id=z;v.type="time";}else{d.timeEnd(z);}u=this.pair["time."+z];v=this.logs[u];t=v.end=g(true);y=v.start;w=(t-y);v.total=w;this.logs[u]=v;return w;},trace:function q(){if(o.enabled===false){return;
}d.trace();},output:function m(t){var v,u,w,x;if(o.enabled===false){if(t===true){o.enable();}else{return;}}v=this.logs;w=v.length;for(u=0;u<w;u=u+1){x=v[u];
if("time"===x.type){d.info("%s: %s - %dms",x.id,x.message,Math.floor(x.total*1000));}else{d.log(x.id,x.message);}}}};h[p]=n;return h[p];};}).call(this,console);
