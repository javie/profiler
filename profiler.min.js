(function(d){var j,i,k,h;j=this;h={};i=function(l){return i.make(l);};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=i;
}exports.Profiler=i;}else{if("undefined"===typeof j.Javie){j.Javie={};}j.Javie.Profiler=i;}k=j._;if(!k&&("undefined"!==typeof require)){k=require("underscore");
}if(!k){throw new Error("Expected Underscore.js not available");}function b(){return{id:"",type:"",start:null,end:null,total:null,message:""};}function g(l){var m,n;
m=new Date().getTime();n=parseInt(m/1000,10);return l?(m/1000):(m-(n*1000))/1000+" "+n;}i.enabled=false;i.enable=function f(){this.enabled=true;};i.disable=function e(){this.enabled=false;
};i.status=function c(){return this.enabled;};i.make=function a(o){var n,m;if(d===undefined&&this.enabled===true){throw new Error("console is not available.");
}if(k.isUndefined(o)||o===""){o="default";}if(h[o]!==undefined){return h[o];}n=this;m={logs:[],pair:{},startedAt:g(true),time:function r(v,u){var s,t;if(k.isNull(v)){v=this.logs.length;
}if(n.enabled===false){return null;}t=b();t.id=v;t.type="time";t.message=u.toString();t.start=g(true);if(!k.isUndefined(this.pair["time."+v])){s=this.pair["time."+v];
this.logs[s]=t;}else{this.logs.push(t);this.pair["time."+v]=(this.logs.length-1);}d.time(v);return v;},timeEnd:function q(y,w){var t,x,s,v,u;if(k.isNull(y)){y=this.logs.length;
}if(n.enabled===false){return;}if(k.isUndefined(this.pair["time."+y])){u=b();u.start=this.startedAt;if(!k.isUndefined(w)){u.message=w;}this.logs.push(u);
this.pair["time."+y]=(this.logs.length-1);u.id=y;u.type="time";}else{d.timeEnd(y);}t=this.pair["time."+y];u=this.logs[t];s=u.end=g(true);x=u.start;v=(s-x);
u.total=v;this.logs[t]=u;return v;},trace:function p(){if(n.enabled===false){return;}d.trace();},output:function l(s){var u,t,v,w;if(n.enabled===false){if(s===true){n.enable();
}else{return;}}u=this.logs;v=u.length;for(t=0;t<v;t=t+1){w=u[t];if("time"===w.type){d.info("%s: %s - %dms",w.id,w.message,Math.floor(w.total*1000));}else{d.log(w.id,w.message);
}}}};h[o]=m;return h[o];};}).call(this,console);